<ion-content>

  <header>
    <ion-icon name="arrow-round-back" (click)="goBack()"></ion-icon>
    <span>{{ 'BOOK_DOCTOR.TITLE' | translate }}</span>
  </header>

  <app-calendar
  [events]="events"
  [locale]="locale"
  [showFreeTime]="true"
  [startHour]="doctor.startHour || 8"
  [endHour]="doctor.endHour || 18"
  [interval]="consultation.duree"
  [freeDays]="[0]"
  (freeTimeClicked)="onFreeTimeClick($event)"
  ></app-calendar>

  <div id="modal" *ngIf="isModalOpened && dates">
    <div id="confirmation" *ngIf="!loading">
      <h2>RÃ©server le rendez-vous :</h2>
      <p>{{ m(dates[0]).tz('Europe/Paris').format('LLLL') | capitalize }}</p>
      <hr>
      <p>{{ m(dates[1]).tz('Europe/Paris').format('LLLL') | capitalize }}</p>
      <button (click)="book()">Confirmer</button>
      <button class="deny" (click)="closeModal()">Refuser</button>
    </div>

    <ion-spinner *ngIf="loading"></ion-spinner>
  </div>

</ion-content>
