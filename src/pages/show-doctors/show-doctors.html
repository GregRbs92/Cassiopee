<ion-content padding>
  <form>
    <section class="fields">
      <select #speciality>
        <option value="-1">{{ "SHOW_DOCTOR.SPECIALITY" | translate }}</option>
        <option value="{{ spe[0] }}" *ngFor="let spe of specialities">{{ spe[1] }}</option>
      </select>
      <input type="text" placeholder="Lieu" #place value="{{ location }}" />
    </section>
    <p class="error">{{ error }}</p>
    <button type="button" (click)="searchDoctors(speciality.value, place.value)">
      <ion-icon name="search"></ion-icon>
      <span>Rechercher</span>
    </button>
    <button type="button" (click)="searchDoctorsAroundMe(speciality.value)">
      <ion-icon name="pin"></ion-icon>
      <span>Autour de moi</span>
    </button>
  </form>

  <hr>

  <p class="loader" *ngIf="loading"><ion-spinner></ion-spinner></p>

  <p *ngIf="doctors && doctors.length == 0"><em>Aucun docteur ne correspond Ã  votre recherche.</em></p>

  <section id="doctors-list">
    <div class="doctor" *ngFor="let d of doctors" (click)="showDoctor(d.id)">
      <div class="doctor-photo">
        <div *ngIf="d.photo && d.photo != ''" class="photo-container"></div>
        <ion-icon *ngIf="!d.photo || d.photo == ''" name="contact"></ion-icon>
      </div>
      <div class="doctor-infos">
        <p class="name">{{ d.nom | uppercase }} {{ d.prenom }}</p>
        <p>{{ d.adresse }}</p>
      </div>
      <div class="doctor-distance">
        <p>{{ d.distance }}km</p>
      </div>
    </div>
  </section>
</ion-content>
